<div th:fragment="login-modal">
    <!-- Modal Login -->
    <div id="loginModal"
        class="fixed inset-0 hidden z-50 flex items-center justify-center bg-gray-900/40 backdrop-blur-sm">
        <div class="bg-white rounded-xl p-6 w-11/12 max-w-md relative animate-fade-in shadow-lg">
            <button id="closeModal"
                class="absolute top-3 right-3 text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
            <h2 class="text-2xl font-bold text-center text-emerald-600 mb-4">Iniciar Sesión</h2>

            <form class="space-y-4" th:action="@{/Usuario}" method="get">
                <div>
                    <label for="email" class="block text-gray-700 font-semibold mb-1">Correo electrónico</label>
                    <input type="email" id="email"
                        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:outline-none"
                        required />
                </div>

                <div>
                    <label for="password" class="block text-gray-700 font-semibold mb-1">Contraseña</label>
                    <input type="password" id="password"
                        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:outline-none"
                        required />
                </div>

                <button type="submit"
                    class="w-full bg-emerald-600 text-white font-semibold py-2 rounded-lg hover:bg-emerald-700 transition">
                    Entrar
                </button>

                <!-- Botón de Registro -->
                <button type="button" id="registerBtn"
                    class="w-full border-2 border-emerald-600 text-emerald-600 font-semibold py-2 rounded-lg hover:bg-emerald-50 transition">Registrar</button>
            </form>
        </div>
    </div>

    <style>
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }
    </style>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const modal = document.getElementById("loginModal");
            const closeModal = document.getElementById("closeModal");
            const registerBtn = document.getElementById("registerBtn");

            window.openLoginModal = () => modal.classList.remove("hidden");
            window.closeLoginModal = () => modal.classList.add("hidden");

            closeModal.addEventListener("click", window.closeLoginModal);
            window.addEventListener("click", (e) => {
                if (e.target === modal) window.closeLoginModal();
            });

            registerBtn.addEventListener("click", () => {
                alert("Redirigiendo a la página de registro...");
                // window.location.href = '/Registro';
            });
        });
    </script>
</div>
