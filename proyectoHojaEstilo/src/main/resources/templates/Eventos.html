<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/output.css">
    <title>SmartAcademy - Eventos</title>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">

    <div th:replace="fragments/header :: header"></div>

  <!-- HERO -->
  <header class="bg-linear-to-r from-emerald-600 to-indigo-600 text-white">
    <div class="max-w-6xl mx-auto px-6 py-12">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-6">
        <div>
          <h1 class="text-3xl md:text-4xl font-extrabold tracking-tight">Eventos</h1>
          <p class="mt-2 text-emerald-100">Charlas, talleres y meetups para mejorar tus habilidades. Filtra, explora y reserva tu lugar.</p>
        </div>

        <div class="w-full md:w-1/2">
          <label for="search" class="sr-only">Buscar eventos</label>
          <div class="relative">
            <input id="search" type="search" placeholder="Buscar por título, tema o lugar..."
                   class="w-full rounded-lg px-4 py-3 pr-12 text-gray-800 placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-300" />
            <button id="searchBtn" class="absolute right-1 top-1/2 -translate-y-1/2 bg-white text-emerald-600 px-3 py-2 rounded-md shadow hover:scale-105 transition">
              Buscar
            </button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="max-w-6xl mx-auto px-6 py-10">
    <!-- FILTROS -->
    <section class="mb-8">
      <h2 class="sr-only">Filtros</h2>
      <div class="flex flex-wrap gap-3">
        <button class="filter-btn bg-white text-gray-700 border border-gray-200 px-4 py-2 rounded-lg shadow-sm hover:bg-emerald-50 transition" data-filter="all">Todos</button>
        <button class="filter-btn bg-white text-gray-700 border border-gray-200 px-4 py-2 rounded-lg shadow-sm hover:bg-emerald-50 transition" data-filter="taller">Taller</button>
        <button class="filter-btn bg-white text-gray-700 border border-gray-200 px-4 py-2 rounded-lg shadow-sm hover:bg-emerald-50 transition" data-filter="charla">Charla</button>
        <button class="filter-btn bg-white text-gray-700 border border-gray-200 px-4 py-2 rounded-lg shadow-sm hover:bg-emerald-50 transition" data-filter="meetup">Meetup</button>

      </div>
    </section>

    <!-- GRID DE EVENTOS -->
    <section id="eventsGrid" class="grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
      <!-- Evento (repite) -->
      <article class="evento tarjeta bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-lg transition" data-categoria="taller">
        <img src="https://images.unsplash.com/photo-1555949963-aa79dcee981d?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=1b4b0a3e1f3c7d2f5c3e1b9f2a7d9f1f" alt="Taller Coding" class="w-full h-44 object-cover">
        <div class="p-5">
          <div class="flex items-center justify-between">
            <time class="text-sm text-gray-500">Sab, 22 Nov · 10:00</time>
            <span class="text-xs bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full">Online</span>
          </div>
          <h3 class="mt-3 text-lg font-semibold">Taller: Desarrollo Web Moderno</h3>
          <p class="mt-2 text-sm text-gray-600 line-clamp-3">Hands-on con HTML, CSS y JavaScript; desplegaremos una mini-app y aprenderás buenas prácticas.</p>

          <div class="mt-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c1.657 0 3-1.343 3-3S13.657 2 12 2 9 3.343 9 5s1.343 3 3 3zM12 14v-2m0 0a4 4 0 00-4 4v2h8v-2a4 4 0 00-4-4z"></path></svg>
              <span class="text-sm text-gray-500">Sala A · Lima</span>
            </div>

            <div class="flex items-center gap-2">
              <button class="rsvpBtn bg-emerald-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-emerald-700 transition">RSVP</button>
              <button class="moreBtn text-gray-500 hover:text-emerald-600" aria-label="Más detalles">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 20h.01"></path></svg>
              </button>
            </div>
          </div>
        </div>
      </article>

      <!-- Evento 2 -->
      <article class="evento tarjeta bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-lg transition" data-categoria="charla">
        <img src="https://images.unsplash.com/photo-1515165562835-c5f8d17c0b2a?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=3c9fbd1b7f6f2b1d4c9a0b4a2d8a4f7e" alt="Charla UX" class="w-full h-44 object-cover">
        <div class="p-5">
          <div class="flex items-center justify-between">
            <time class="text-sm text-gray-500">Mié, 26 Nov · 18:30</time>
            <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full">Online</span>
          </div>
          <h3 class="mt-3 text-lg font-semibold">Charla: Diseño UX efectivo</h3>
          <p class="mt-2 text-sm text-gray-600 line-clamp-3">Estrategias para crear experiencias de usuario memorables y accesibles.</p>

          <div class="mt-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-3-3h-2M7 20H2v-2a3 3 0 013-3h2m10 0a4 4 0 10-8 0"></path></svg>
              <span class="text-sm text-gray-500">Zoom</span>
            </div>

            <div class="flex items-center gap-2">
              <button class="rsvpBtn bg-emerald-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-emerald-700 transition">RSVP</button>
              <button class="moreBtn text-gray-500 hover:text-emerald-600" aria-label="Más detalles">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 20h.01"></path></svg>
              </button>
            </div>
          </div>
        </div>
      </article>

      <!-- Evento 3 -->
      <article class="evento tarjeta bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-lg transition" data-categoria="meetup">
        <img src="https://images.unsplash.com/photo-1521737604893-d14cc237f11d?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=4a9a0a2b3f1c7b1d6e3a9c4f5a8b2c6d" alt="Meetup" class="w-full h-44 object-cover">
        <div class="p-5">
          <div class="flex items-center justify-between">
            <time class="text-sm text-gray-500">Vie, 28 Nov · 20:00</time>
            <span class="text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full">Online</span>
          </div>
          <h3 class="mt-3 text-lg font-semibold">Meetup: Comunidad Dev</h3>
          <p class="mt-2 text-sm text-gray-600 line-clamp-3">Conoce a desarrolladores locales, comparte proyectos y haz networking.</p>

          <div class="mt-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
              <span class="text-sm text-gray-500">Auditorio B · Miraflores</span>
            </div>

            <div class="flex items-center gap-2">
              <button class="rsvpBtn bg-emerald-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-emerald-700 transition">RSVP</button>
              <button class="moreBtn text-gray-500 hover:text-emerald-600" aria-label="Más detalles">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 20h.01"></path></svg>
              </button>
            </div>
          </div>
        </div>
      </article>

      <!-- Puedes clonar/añadir más tarjetas similares -->
    </section>
  </main>

  <!-- MODAL RSVP -->
  <div id="rsvpModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-gray-900/40">
    <div class="bg-white rounded-xl shadow-lg max-w-xl w-11/12 p-6">
      <button id="closeRsvp" class="float-right text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
      <h3 class="text-xl font-semibold text-gray-800">Confirmar asistencia</h3>
      <p id="rsvpEventTitle" class="mt-2 text-gray-600">Evento seleccionado</p>

      <form id="rsvpForm" class="mt-4 space-y-3">
        <div>
          <label class="block text-sm font-medium text-gray-700">Nombre</label>
          <input type="text" id="rsvpName" required class="mt-1 block w-full rounded-md border-gray-200 shadow-sm px-3 py-2 focus:border-emerald-500 focus:ring-1 focus:ring-emerald-200" />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700">Correo</label>
          <input type="email" id="rsvpEmail" required class="mt-1 block w-full rounded-md border-gray-200 shadow-sm px-3 py-2 focus:border-emerald-500 focus:ring-1 focus:ring-emerald-200" />
        </div>

        <div class="flex justify-end gap-3">
          <button type="button" id="cancelRsvp" class="px-4 py-2 rounded-md border border-gray-200">Cancelar</button>
          <button type="submit" class="px-4 py-2 rounded-md bg-emerald-600 text-white">Confirmar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- SCRIPTS -->
  <script>
    // FILTROS
    document.querySelectorAll('.filter-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const f = btn.dataset.filter;
        const cards = document.querySelectorAll('.evento');
        cards.forEach(c => {
          c.style.display = (f === 'all' || c.dataset.categoria === f) ? '' : 'none';
        });

        // marcar botón activo
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('ring-2','ring-emerald-300','bg-emerald-50'));
        btn.classList.add('ring-2','ring-emerald-300','bg-emerald-50');
      });
    });

    // BUSCADOR básico (filtra por texto en título)
    document.getElementById('searchBtn').addEventListener('click', () => {
      const q = document.getElementById('search').value.trim().toLowerCase();
      document.querySelectorAll('.evento').forEach(card => {
        const title = card.querySelector('h3').textContent.toLowerCase();
        card.style.display = title.includes(q) ? '' : 'none';
      });
    });

    // RSVP modal
    const rsvpModal = document.getElementById('rsvpModal');
    const closeRsvp = document.getElementById('closeRsvp');
    const cancelRsvp = document.getElementById('cancelRsvp');
    const rsvpForm = document.getElementById('rsvpForm');
    const rsvpEventTitle = document.getElementById('rsvpEventTitle');

    document.querySelectorAll('.rsvpBtn').forEach((btn) => {
      btn.addEventListener('click', (e) => {
        const card = e.target.closest('.tarjeta');
        const title = card.querySelector('h3').textContent;
        rsvpEventTitle.textContent = title;
        rsvpModal.classList.remove('hidden');
        rsvpModal.classList.add('flex');
      });
    });

    closeRsvp.addEventListener('click', () => {
      rsvpModal.classList.add('hidden');
      rsvpModal.classList.remove('flex');
    });
    cancelRsvp.addEventListener('click', () => {
      rsvpModal.classList.add('hidden');
      rsvpModal.classList.remove('flex');
    });

    rsvpForm.addEventListener('submit', (e) => {
      e.preventDefault();
      // aquí puedes enviar datos al servidor mediante fetch/XHR
      const name = document.getElementById('rsvpName').value;
      const email = document.getElementById('rsvpEmail').value;
      // Simulación de envío
      alert(`Gracias ${name}. Tu inscripción para "${rsvpEventTitle.textContent}" fue recibida en ${email}.`);
      rsvpModal.classList.add('hidden');
      rsvpModal.classList.remove('flex');
      rsvpForm.reset();
    });

    // "Más detalles" - ejemplo de usar para mostrar más info (opcional)
    document.querySelectorAll('.moreBtn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const card = e.target.closest('.tarjeta');
        const title = card.querySelector('h3').textContent;
        alert(`Más detalles de: ${title}\n(Implementa aquí tu vista detallada o modal con info completa).`);
      });
    });
  </script>

</body>
</html>
